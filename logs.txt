2025-08-01 16:19:27,071 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/saswatpandey/hydroleaf/env/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-01 16:19:27,357 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 201 â€¢ 328.6ms
2025-08-01 16:19:27,358 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 16:19:27,720 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 201 â€¢ 251.6ms
2025-08-01 16:19:27,720 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 16:19:28,076 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 201 â€¢ 248.1ms
2025-08-01 16:19:28,076 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 16:19:28,090 - app.main - WARNING - HTTPException Email already registered on /api/v1/auth/signup
2025-08-01 16:19:28,091 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 400 â€¢ 13.7ms
2025-08-01 16:19:28,091 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 400 Bad Request"
2025-08-01 16:19:28,168 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 422 â€¢ 0.8ms
2025-08-01 16:19:28,168 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 16:19:28,222 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 422 â€¢ 1.5ms
2025-08-01 16:19:28,222 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 16:19:28,277 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 422 â€¢ 1.2ms
2025-08-01 16:19:28,278 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 16:19:28,598 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 201 â€¢ 266.7ms
2025-08-01 16:19:28,598 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 16:19:28,831 - app.main - INFO - POST /api/v1/auth/login â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 200 â€¢ 232.4ms
2025-08-01 16:19:28,832 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/login "HTTP/1.1 200 OK"
2025-08-01 16:19:29,157 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 201 â€¢ 247.9ms
2025-08-01 16:19:29,157 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 16:19:29,388 - app.main - WARNING - HTTPException Invalid credentials on /api/v1/auth/login
2025-08-01 16:19:29,388 - app.main - INFO - POST /api/v1/auth/login â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 401 â€¢ 230.5ms
2025-08-01 16:19:29,388 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/login "HTTP/1.1 401 Unauthorized"
2025-08-01 16:19:29,480 - app.main - WARNING - HTTPException Invalid credentials on /api/v1/auth/login
2025-08-01 16:19:29,480 - app.main - INFO - POST /api/v1/auth/login â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 401 â€¢ 11.2ms
2025-08-01 16:19:29,480 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/login "HTTP/1.1 401 Unauthorized"
2025-08-01 16:19:29,540 - app.main - INFO - POST /api/v1/auth/login â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 422 â€¢ 2.1ms
2025-08-01 16:19:29,540 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/login "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 16:19:29,852 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 201 â€¢ 259.5ms
2025-08-01 16:19:29,852 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 16:19:30,335 - app.services.supply_chain_service - ERROR - No valid JSON block found in LLM response.
2025-08-01 16:19:30,800 - app.services.llm - INFO - Sending prompt to LLM:

2025-08-01 16:19:30,800 - app.services.llm - INFO - Ollama â†’ deepseek-r1:1.5b prompt:

2025-08-01 16:19:32,221 - app.services.dose_manager - INFO - Cancellation response for device devX: {'cancelled': True}
2025-08-01 16:19:32,860 - app.services.llm - ERROR - No valid JSON block found in OpenAI response: no braces at all
2025-08-01 16:19:34,318 - httpx - INFO - HTTP Request: GET https://google.serper.dev/search?q=optimal+growth.+Focus+on+best+practices+in+Europe+for+Veggie+cultivation.&gl=in&hl=en&apiKey=eeaeee2729768c737ca5a6004968a9840677e523&num=5&full=true&output=detailed "HTTP/1.1 200 OK"
2025-08-01 16:19:34,613 - httpx - INFO - HTTP Request: GET https://www.researchgate.net/publication/323363546_Strategies_for_optimal_fertiliser_management_of_vegetable_crops_in_Europe "HTTP/1.1 403 Forbidden"
2025-08-01 16:19:34,617 - app.services.serper - WARNING - Scrape forbidden (403) for https://www.researchgate.net/publication/323363546_Strategies_for_optimal_fertiliser_management_of_vegetable_crops_in_Europe
2025-08-01 16:19:34,635 - httpx - INFO - HTTP Request: GET https://www.researchgate.net/publication/260984593_Good_Agricultural_Practices_for_greenhouse_vegetable_crops_Principles_for_Mediterranean_climate_areas "HTTP/1.1 403 Forbidden"
2025-08-01 16:19:34,636 - app.services.serper - WARNING - Scrape forbidden (403) for https://www.researchgate.net/publication/260984593_Good_Agricultural_Practices_for_greenhouse_vegetable_crops_Principles_for_Mediterranean_climate_areas
2025-08-01 16:19:35,020 - httpx - INFO - HTTP Request: GET https://www.fao.org/4/i3284e/i3284e.pdf "HTTP/1.1 200 OK"
2025-08-01 16:19:35,581 - httpx - INFO - HTTP Request: GET https://www.agronomyjournals.com/article/view/2394/8-1-44 "HTTP/1.1 302 Moved Temporarily"
2025-08-01 16:19:35,583 - app.services.serper - WARNING - HTTP error scraping https://www.agronomyjournals.com/article/view/2394/8-1-44: Redirect response '302 Moved Temporarily' for url 'https://www.agronomyjournals.com/article/view/2394/8-1-44'
Redirect location: 'https://www.agronomyjournals.com/archives/2025/vol8issue1/PartD/8-1-44-621.pdf'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/302
2025-08-01 16:19:35,669 - httpx - INFO - HTTP Request: GET https://www.frontiersin.org/journals/plant-science/articles/10.3389/fpls.2024.1357153/full "HTTP/1.1 200 OK"
2025-08-01 16:19:36,560 - httpx - INFO - HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2025-08-01 16:19:36,561 - app.services.llm - INFO - Ollama â†’ deepseek-r1:1.5b prompt:
Return exactly this JSON: {"foo": 42}
2025-08-01 16:19:36,651 - httpx - INFO - HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2025-08-01 16:19:36,651 - app.services.llm - INFO - Sending prompt to LLM:
Return {"x":1}
2025-08-01 16:19:36,651 - app.services.llm - INFO - Ollama â†’ deepseek-r1:1.5b prompt:
Return {"x":1}
2025-08-01 16:19:37,301 - app.services.plant_service - INFO - Fetching plants from database...
2025-08-01 16:19:37,302 - app.services.plant_service - INFO - No plants found, returning an empty list.
2025-08-01 16:19:37,374 - app.services.plant_service - INFO - Fetching plants from database...
2025-08-01 16:19:37,374 - app.services.plant_service - INFO - Fetched 2 plants from the database
2025-08-01 16:19:37,691 - app.services.plant_service - INFO - Fetching plants from database...
2025-08-01 16:19:37,691 - app.services.plant_service - ERROR - Database query failed: db is down
2025-08-01 16:19:37,781 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 422 â€¢ 0.8ms
2025-08-01 16:19:37,781 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 16:19:37,847 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 422 â€¢ 1.0ms
2025-08-01 16:19:37,847 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 16:19:37,907 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 422 â€¢ 1.0ms
2025-08-01 16:19:37,907 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 16:19:37,971 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 422 â€¢ 1.4ms
2025-08-01 16:19:37,971 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 16:19:38,036 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 422 â€¢ 1.4ms
2025-08-01 16:19:38,037 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 16:19:38,102 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 422 â€¢ 1.4ms
2025-08-01 16:19:38,103 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 16:19:38,563 - app.main - INFO - POST /admin/device/dev-2/issue-token â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 404 â€¢ 0.2ms
2025-08-01 16:19:38,563 - httpx - INFO - HTTP Request: POST http://test/admin/device/dev-2/issue-token "HTTP/1.1 404 Not Found"
2025-08-01 16:35:01,340 - uvicorn.error - INFO - Shutting down
2025-08-01 16:35:01,452 - uvicorn.error - INFO - Waiting for application shutdown.
2025-08-01 16:35:01,455 - uvicorn.error - INFO - Application shutdown complete.
2025-08-01 16:35:01,456 - uvicorn.error - INFO - Finished server process [66164]
2025-08-01 16:40:30,446 - uvicorn.error - INFO - Started server process [71513]
2025-08-01 16:40:30,446 - uvicorn.error - INFO - Waiting for application startup.
2025-08-01 16:40:30,446 - uvicorn.error - INFO - Application startup complete.
2025-08-01 16:40:30,448 - uvicorn.error - INFO - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-08-01 16:40:40,667 - uvicorn.error - INFO - Shutting down
2025-08-01 16:40:40,771 - uvicorn.error - INFO - Waiting for application shutdown.
2025-08-01 16:40:40,774 - uvicorn.error - INFO - Application shutdown complete.
2025-08-01 16:40:40,774 - uvicorn.error - INFO - Finished server process [71513]
2025-08-01 16:40:45,839 - uvicorn.error - INFO - Started server process [71662]
2025-08-01 16:40:45,839 - uvicorn.error - INFO - Waiting for application startup.
2025-08-01 16:40:45,840 - uvicorn.error - INFO - Application startup complete.
2025-08-01 16:40:45,840 - uvicorn.error - INFO - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-08-01 16:41:20,193 - app.main - INFO - GET /api/v1/docs â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 200 â€¢ 7.9ms
2025-08-01 16:41:20,759 - app.main - INFO - GET /api/v1/docs â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 200 â€¢ 0.4ms
2025-08-01 16:41:21,051 - app.main - INFO - GET /api/v1/openapi.json â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 200 â€¢ 31.6ms
2025-08-01 16:41:51,706 - uvicorn.error - INFO - Shutting down
2025-08-01 16:41:51,820 - uvicorn.error - INFO - Waiting for application shutdown.
2025-08-01 16:41:51,824 - uvicorn.error - INFO - Application shutdown complete.
2025-08-01 16:41:51,825 - uvicorn.error - INFO - Finished server process [71662]
2025-08-01 16:44:30,443 - uvicorn.error - INFO - Started server process [72090]
2025-08-01 16:44:30,444 - uvicorn.error - INFO - Waiting for application startup.
2025-08-01 16:44:30,444 - uvicorn.error - INFO - Application startup complete.
2025-08-01 16:44:30,445 - uvicorn.error - INFO - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-08-01 16:47:28,798 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/saswatpandey/hydroleaf/env/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-01 16:47:29,069 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 201 â€¢ 312.4ms
2025-08-01 16:47:29,069 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 16:47:29,504 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 201 â€¢ 266.3ms
2025-08-01 16:47:29,505 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 16:47:29,879 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 201 â€¢ 251.9ms
2025-08-01 16:47:29,880 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 16:47:29,897 - app.main - WARNING - HTTPException Email already registered on /api/v1/auth/signup
2025-08-01 16:47:29,897 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 400 â€¢ 16.8ms
2025-08-01 16:47:29,897 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 400 Bad Request"
2025-08-01 16:47:29,981 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 422 â€¢ 1.3ms
2025-08-01 16:47:29,982 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 16:47:30,037 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 422 â€¢ 1.5ms
2025-08-01 16:47:30,037 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 16:47:30,091 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 422 â€¢ 1.7ms
2025-08-01 16:47:30,092 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 16:47:30,431 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 201 â€¢ 271.0ms
2025-08-01 16:47:30,431 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 16:47:30,668 - app.main - INFO - POST /api/v1/auth/login â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 200 â€¢ 235.7ms
2025-08-01 16:47:30,668 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/login "HTTP/1.1 200 OK"
2025-08-01 16:47:31,020 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 201 â€¢ 255.7ms
2025-08-01 16:47:31,021 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 16:47:31,254 - app.main - WARNING - HTTPException Invalid credentials on /api/v1/auth/login
2025-08-01 16:47:31,254 - app.main - INFO - POST /api/v1/auth/login â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 401 â€¢ 232.6ms
2025-08-01 16:47:31,254 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/login "HTTP/1.1 401 Unauthorized"
2025-08-01 16:47:31,346 - app.main - WARNING - HTTPException Invalid credentials on /api/v1/auth/login
2025-08-01 16:47:31,346 - app.main - INFO - POST /api/v1/auth/login â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 401 â€¢ 11.3ms
2025-08-01 16:47:31,346 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/login "HTTP/1.1 401 Unauthorized"
2025-08-01 16:47:31,407 - app.main - INFO - POST /api/v1/auth/login â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 422 â€¢ 2.2ms
2025-08-01 16:47:31,407 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/login "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 16:47:31,766 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 201 â€¢ 243.7ms
2025-08-01 16:47:31,767 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 16:47:32,259 - app.services.supply_chain_service - ERROR - No valid JSON block found in LLM response.
2025-08-01 16:47:32,739 - app.services.llm - INFO - Sending prompt to LLM:

2025-08-01 16:47:32,739 - app.services.llm - INFO - Ollama â†’ deepseek-r1:1.5b prompt:

2025-08-01 16:47:34,023 - app.services.dose_manager - INFO - Cancellation response for device devX: {'cancelled': True}
2025-08-01 16:47:34,683 - app.services.llm - ERROR - No valid JSON block found in OpenAI response: no braces at all
2025-08-01 16:47:36,977 - httpx - INFO - HTTP Request: GET https://google.serper.dev/search?q=optimal+growth.+Focus+on+best+practices+in+Europe+for+Veggie+cultivation.&gl=in&hl=en&apiKey=eeaeee2729768c737ca5a6004968a9840677e523&num=5&full=true&output=detailed "HTTP/1.1 200 OK"
2025-08-01 16:47:37,365 - httpx - INFO - HTTP Request: GET https://www.researchgate.net/publication/260984593_Good_Agricultural_Practices_for_greenhouse_vegetable_crops_Principles_for_Mediterranean_climate_areas "HTTP/1.1 403 Forbidden"
2025-08-01 16:47:37,369 - httpx - INFO - HTTP Request: GET https://www.researchgate.net/publication/323363546_Strategies_for_optimal_fertiliser_management_of_vegetable_crops_in_Europe "HTTP/1.1 403 Forbidden"
2025-08-01 16:47:37,370 - app.services.serper - WARNING - Scrape forbidden (403) for https://www.researchgate.net/publication/260984593_Good_Agricultural_Practices_for_greenhouse_vegetable_crops_Principles_for_Mediterranean_climate_areas
2025-08-01 16:47:37,372 - app.services.serper - WARNING - Scrape forbidden (403) for https://www.researchgate.net/publication/323363546_Strategies_for_optimal_fertiliser_management_of_vegetable_crops_in_Europe
2025-08-01 16:47:37,899 - httpx - INFO - HTTP Request: GET https://www.fao.org/4/i3284e/i3284e.pdf "HTTP/1.1 200 OK"
2025-08-01 16:47:38,429 - httpx - INFO - HTTP Request: GET https://www.frontiersin.org/journals/plant-science/articles/10.3389/fpls.2024.1357153/full "HTTP/1.1 200 OK"
2025-08-01 16:47:38,449 - httpx - INFO - HTTP Request: GET https://cordis.europa.eu/project/id/613781/reporting "HTTP/1.1 200 OK"
2025-08-01 16:47:39,266 - httpx - INFO - HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2025-08-01 16:47:39,267 - app.services.llm - INFO - Ollama â†’ deepseek-r1:1.5b prompt:
Return exactly this JSON: {"foo": 42}
2025-08-01 16:47:39,368 - httpx - INFO - HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2025-08-01 16:47:39,368 - app.services.llm - INFO - Sending prompt to LLM:
Return {"x":1}
2025-08-01 16:47:39,368 - app.services.llm - INFO - Ollama â†’ deepseek-r1:1.5b prompt:
Return {"x":1}
2025-08-01 16:47:40,126 - app.services.plant_service - INFO - Fetching plants from database...
2025-08-01 16:47:40,127 - app.services.plant_service - INFO - No plants found, returning an empty list.
2025-08-01 16:47:40,187 - app.services.plant_service - INFO - Fetching plants from database...
2025-08-01 16:47:40,187 - app.services.plant_service - INFO - Fetched 2 plants from the database
2025-08-01 16:47:40,482 - app.services.plant_service - INFO - Fetching plants from database...
2025-08-01 16:47:40,483 - app.services.plant_service - ERROR - Database query failed: db is down
2025-08-01 16:47:40,541 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 422 â€¢ 1.7ms
2025-08-01 16:47:40,541 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 16:47:40,619 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 422 â€¢ 1.4ms
2025-08-01 16:47:40,619 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 16:47:40,683 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 422 â€¢ 1.5ms
2025-08-01 16:47:40,684 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 16:47:40,749 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 422 â€¢ 1.7ms
2025-08-01 16:47:40,749 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 16:47:40,816 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 422 â€¢ 2.0ms
2025-08-01 16:47:40,817 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 16:47:40,884 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 422 â€¢ 1.5ms
2025-08-01 16:47:40,884 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 16:47:41,818 - app.main - WARNING - HTTPException Could not validate credentials on /api/v1/devices/dosing
2025-08-01 16:47:41,819 - app.main - INFO - POST /api/v1/devices/dosing â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 401 â€¢ 1.0ms
2025-08-01 16:47:41,819 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/devices/dosing "HTTP/1.1 401 Unauthorized"
2025-08-01 16:47:41,882 - app.main - INFO - POST /admin/device/nonexistent/issue-token â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 404 â€¢ 0.3ms
2025-08-01 16:47:41,882 - httpx - INFO - HTTP Request: POST http://testserver/admin/device/nonexistent/issue-token "HTTP/1.1 404 Not Found"
2025-08-01 16:52:59,631 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/saswatpandey/hydroleaf/env/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-01 16:52:59,897 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 201 â€¢ 327.1ms
2025-08-01 16:52:59,897 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 16:53:00,295 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 201 â€¢ 264.5ms
2025-08-01 16:53:00,296 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 16:53:00,626 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 201 â€¢ 248.0ms
2025-08-01 16:53:00,626 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 16:53:00,642 - app.main - WARNING - HTTPException Email already registered on /api/v1/auth/signup
2025-08-01 16:53:00,642 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 400 â€¢ 15.5ms
2025-08-01 16:53:00,643 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 400 Bad Request"
2025-08-01 16:53:00,721 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 422 â€¢ 0.9ms
2025-08-01 16:53:00,722 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 16:53:00,780 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 422 â€¢ 1.6ms
2025-08-01 16:53:00,781 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 16:53:00,833 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 422 â€¢ 1.2ms
2025-08-01 16:53:00,833 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 16:53:01,159 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 201 â€¢ 273.5ms
2025-08-01 16:53:01,159 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 16:53:01,394 - app.main - INFO - POST /api/v1/auth/login â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 200 â€¢ 234.4ms
2025-08-01 16:53:01,394 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/login "HTTP/1.1 200 OK"
2025-08-01 16:53:01,725 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 201 â€¢ 252.7ms
2025-08-01 16:53:01,726 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 16:53:01,956 - app.main - WARNING - HTTPException Invalid credentials on /api/v1/auth/login
2025-08-01 16:53:01,956 - app.main - INFO - POST /api/v1/auth/login â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 401 â€¢ 230.0ms
2025-08-01 16:53:01,957 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/login "HTTP/1.1 401 Unauthorized"
2025-08-01 16:53:02,054 - app.main - WARNING - HTTPException Invalid credentials on /api/v1/auth/login
2025-08-01 16:53:02,054 - app.main - INFO - POST /api/v1/auth/login â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 401 â€¢ 11.2ms
2025-08-01 16:53:02,054 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/login "HTTP/1.1 401 Unauthorized"
2025-08-01 16:53:02,111 - app.main - INFO - POST /api/v1/auth/login â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 422 â€¢ 2.3ms
2025-08-01 16:53:02,112 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/login "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 16:53:02,426 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 201 â€¢ 262.8ms
2025-08-01 16:53:02,427 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 16:53:02,895 - app.services.supply_chain_service - ERROR - No valid JSON block found in LLM response.
2025-08-01 16:53:03,334 - app.services.llm - INFO - Sending prompt to LLM:

2025-08-01 16:53:03,334 - app.services.llm - INFO - Ollama â†’ deepseek-r1:1.5b prompt:

2025-08-01 16:53:04,546 - app.services.dose_manager - INFO - Cancellation response for device devX: {'cancelled': True}
2025-08-01 16:53:05,181 - app.services.llm - ERROR - No valid JSON block found in OpenAI response: no braces at all
2025-08-01 16:53:07,845 - httpx - INFO - HTTP Request: GET https://google.serper.dev/search?q=optimal+growth.+Focus+on+best+practices+in+Europe+for+Veggie+cultivation.&gl=in&hl=en&apiKey=eeaeee2729768c737ca5a6004968a9840677e523&num=5&full=true&output=detailed "HTTP/1.1 200 OK"
2025-08-01 16:53:08,177 - httpx - INFO - HTTP Request: GET https://www.researchgate.net/publication/260984593_Good_Agricultural_Practices_for_greenhouse_vegetable_crops_Principles_for_Mediterranean_climate_areas "HTTP/1.1 403 Forbidden"
2025-08-01 16:53:08,179 - app.services.serper - WARNING - Scrape forbidden (403) for https://www.researchgate.net/publication/260984593_Good_Agricultural_Practices_for_greenhouse_vegetable_crops_Principles_for_Mediterranean_climate_areas
2025-08-01 16:53:08,193 - httpx - INFO - HTTP Request: GET https://www.researchgate.net/publication/323363546_Strategies_for_optimal_fertiliser_management_of_vegetable_crops_in_Europe "HTTP/1.1 403 Forbidden"
2025-08-01 16:53:08,197 - app.services.serper - WARNING - Scrape forbidden (403) for https://www.researchgate.net/publication/323363546_Strategies_for_optimal_fertiliser_management_of_vegetable_crops_in_Europe
2025-08-01 16:53:08,758 - httpx - INFO - HTTP Request: GET https://www.fao.org/4/i3284e/i3284e.pdf "HTTP/1.1 200 OK"
2025-08-01 16:53:09,306 - httpx - INFO - HTTP Request: GET https://www.frontiersin.org/journals/plant-science/articles/10.3389/fpls.2024.1357153/full "HTTP/1.1 200 OK"
2025-08-01 16:53:09,338 - httpx - INFO - HTTP Request: GET https://www.agronomyjournals.com/article/view/2394/8-1-44 "HTTP/1.1 302 Moved Temporarily"
2025-08-01 16:53:09,338 - app.services.serper - WARNING - HTTP error scraping https://www.agronomyjournals.com/article/view/2394/8-1-44: Redirect response '302 Moved Temporarily' for url 'https://www.agronomyjournals.com/article/view/2394/8-1-44'
Redirect location: 'https://www.agronomyjournals.com/archives/2025/vol8issue1/PartD/8-1-44-621.pdf'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/302
2025-08-01 16:53:10,076 - httpx - INFO - HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2025-08-01 16:53:10,076 - app.services.llm - INFO - Ollama â†’ deepseek-r1:1.5b prompt:
Return exactly this JSON: {"foo": 42}
2025-08-01 16:53:10,167 - httpx - INFO - HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2025-08-01 16:53:10,168 - app.services.llm - INFO - Sending prompt to LLM:
Return {"x":1}
2025-08-01 16:53:10,168 - app.services.llm - INFO - Ollama â†’ deepseek-r1:1.5b prompt:
Return {"x":1}
2025-08-01 16:53:10,815 - app.services.plant_service - INFO - Fetching plants from database...
2025-08-01 16:53:10,816 - app.services.plant_service - INFO - No plants found, returning an empty list.
2025-08-01 16:53:10,889 - app.services.plant_service - INFO - Fetching plants from database...
2025-08-01 16:53:10,890 - app.services.plant_service - INFO - Fetched 2 plants from the database
2025-08-01 16:53:11,168 - app.services.plant_service - INFO - Fetching plants from database...
2025-08-01 16:53:11,168 - app.services.plant_service - ERROR - Database query failed: db is down
2025-08-01 16:53:11,225 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 422 â€¢ 2.0ms
2025-08-01 16:53:11,226 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 16:53:11,302 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 422 â€¢ 1.2ms
2025-08-01 16:53:11,303 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 16:53:11,367 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 422 â€¢ 1.5ms
2025-08-01 16:53:11,367 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 16:53:11,430 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 422 â€¢ 1.4ms
2025-08-01 16:53:11,430 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 16:53:11,494 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 422 â€¢ 1.4ms
2025-08-01 16:53:11,494 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 16:53:11,561 - app.main - INFO - POST /api/v1/auth/signup â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 422 â€¢ 1.5ms
2025-08-01 16:53:11,561 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 16:53:12,494 - app.main - WARNING - HTTPException Could not validate credentials on /api/v1/devices/dosing
2025-08-01 16:53:12,494 - app.main - INFO - POST /api/v1/devices/dosing â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 401 â€¢ 1.1ms
2025-08-01 16:53:12,495 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/devices/dosing "HTTP/1.1 401 Unauthorized"
2025-08-01 16:53:12,596 - app.main - INFO - POST /admin/device/nonexistent/issue-token â€¢ ip=127.0.0.1 â€¢ device_id=- â€¢ 404 â€¢ 0.2ms
2025-08-01 16:53:12,596 - httpx - INFO - HTTP Request: POST http://testserver/admin/device/nonexistent/issue-token "HTTP/1.1 404 Not Found"
2025-08-01 20:09:26,916 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "C:\Users\Smriti\KrishiVerse\hydroleaf\env\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-01 20:09:27,313 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 201 • 531.2ms
2025-08-01 20:09:27,314 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 20:09:28,082 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 201 • 439.2ms
2025-08-01 20:09:28,082 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 20:09:28,763 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 201 • 407.1ms
2025-08-01 20:09:28,764 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 20:09:28,844 - app.main - WARNING - HTTPException Email already registered on /api/v1/auth/signup
2025-08-01 20:09:28,845 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 400 • 79.7ms
2025-08-01 20:09:28,845 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 400 Bad Request"
2025-08-01 20:09:29,109 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 422 • 1.0ms
2025-08-01 20:09:29,109 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:09:29,366 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 422 • 1.0ms
2025-08-01 20:09:29,367 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:09:29,655 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 422 • 1.0ms
2025-08-01 20:09:29,655 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:09:30,319 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 201 • 400.1ms
2025-08-01 20:09:30,319 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 20:09:30,670 - app.main - INFO - POST /api/v1/auth/login • ip=127.0.0.1 • device_id=- • 200 • 349.1ms
2025-08-01 20:09:30,671 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/login "HTTP/1.1 200 OK"
2025-08-01 20:09:31,378 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 201 • 413.6ms
2025-08-01 20:09:31,379 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 20:09:31,703 - app.main - WARNING - HTTPException Invalid credentials on /api/v1/auth/login
2025-08-01 20:09:31,703 - app.main - INFO - POST /api/v1/auth/login • ip=127.0.0.1 • device_id=- • 401 • 323.2ms
2025-08-01 20:09:31,704 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/login "HTTP/1.1 401 Unauthorized"
2025-08-01 20:09:32,076 - app.main - WARNING - HTTPException Invalid credentials on /api/v1/auth/login
2025-08-01 20:09:32,077 - app.main - INFO - POST /api/v1/auth/login • ip=127.0.0.1 • device_id=- • 401 • 92.2ms
2025-08-01 20:09:32,078 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/login "HTTP/1.1 401 Unauthorized"
2025-08-01 20:09:32,358 - app.main - INFO - POST /api/v1/auth/login • ip=127.0.0.1 • device_id=- • 422 • 2.3ms
2025-08-01 20:09:32,358 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/login "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:09:33,052 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 201 • 418.5ms
2025-08-01 20:09:33,052 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 20:09:34,727 - app.services.supply_chain_service - ERROR - No valid JSON block found in LLM response.
2025-08-01 20:09:39,026 - app.services.llm - INFO - Sending prompt to LLM:

2025-08-01 20:09:51,657 - app.services.dose_manager - INFO - Cancellation response for device devX: {'cancelled': True}
2025-08-01 20:09:59,799 - app.services.llm - ERROR - No valid JSON block found in OpenAI response: no braces at all
2025-08-01 20:10:04,989 - httpx - INFO - HTTP Request: GET https://google.serper.dev/search?q=optimal+growth.+Focus+on+best+practices+in+Europe+for+Veggie+cultivation.&gl=in&hl=en&apiKey=79729460be56c404bcbf96630c3bfd92ba6ecc3e5ef08d124f91aba3c8ecf580&num=5&full=true&output=detailed "HTTP/1.1 403 Forbidden"
2025-08-01 20:10:04,991 - app.services.serper - ERROR - Serper API error [403]: {"message":"Unauthorized.","statusCode":403}
2025-08-01 20:10:04,992 - app.services.llm - WARNING - Serper enrichment skipped (Client error '403 Forbidden' for url 'https://google.serper.dev/search?q=optimal+growth.+Focus+on+best+practices+in+Europe+for+Veggie+cultivation.&gl=in&hl=en&apiKey=79729460be56c404bcbf96630c3bfd92ba6ecc3e5ef08d124f91aba3c8ecf580&num=5&full=true&output=detailed'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/403)
2025-08-01 20:10:06,177 - httpx - INFO - HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2025-08-01 20:10:07,294 - httpx - INFO - HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2025-08-01 20:10:07,296 - app.services.llm - INFO - Sending prompt to LLM:
Return {"x":1}
2025-08-01 20:10:15,688 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 422 • 1.1ms
2025-08-01 20:10:15,688 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:10:16,323 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 422 • 1.0ms
2025-08-01 20:10:16,323 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:10:17,003 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 422 • 1.0ms
2025-08-01 20:10:17,003 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:10:17,694 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 422 • 1.0ms
2025-08-01 20:10:17,695 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:10:18,351 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 422 • 1.1ms
2025-08-01 20:10:18,352 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:10:19,002 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 422 • 1.2ms
2025-08-01 20:10:19,002 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:10:22,213 - app.main - WARNING - HTTPException Could not validate credentials on /api/v1/devices/dosing
2025-08-01 20:10:22,213 - app.main - INFO - POST /api/v1/devices/dosing • ip=127.0.0.1 • device_id=- • 401 • 1.9ms
2025-08-01 20:10:22,214 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/devices/dosing "HTTP/1.1 401 Unauthorized"
2025-08-01 20:10:22,843 - app.main - INFO - POST /admin/device/nonexistent/issue-token • ip=127.0.0.1 • device_id=- • 404 • 0.3ms
2025-08-01 20:10:22,844 - httpx - INFO - HTTP Request: POST http://testserver/admin/device/nonexistent/issue-token "HTTP/1.1 404 Not Found"
2025-08-01 20:29:16,757 - uvicorn.error - INFO - Started server process [13172]
2025-08-01 20:29:16,759 - uvicorn.error - INFO - Waiting for application startup.
2025-08-01 20:29:16,760 - uvicorn.error - INFO - Application startup complete.
2025-08-01 20:29:16,762 - uvicorn.error - INFO - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-08-01 20:30:46,316 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "C:\Users\Smriti\KrishiVerse\hydroleaf\env\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-01 20:30:46,723 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 201 • 525.9ms
2025-08-01 20:30:46,724 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 20:30:47,614 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 201 • 529.0ms
2025-08-01 20:30:47,615 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 20:30:48,322 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 201 • 442.4ms
2025-08-01 20:30:48,323 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 20:30:48,525 - app.main - WARNING - HTTPException Email already registered on /api/v1/auth/signup
2025-08-01 20:30:48,526 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 400 • 201.6ms
2025-08-01 20:30:48,526 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 400 Bad Request"
2025-08-01 20:30:48,798 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 422 • 1.0ms
2025-08-01 20:30:48,798 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:30:49,067 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 422 • 1.1ms
2025-08-01 20:30:49,067 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:30:49,389 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 422 • 2.1ms
2025-08-01 20:30:49,390 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:30:50,219 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 201 • 434.6ms
2025-08-01 20:30:50,220 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 20:30:50,591 - app.main - INFO - POST /api/v1/auth/login • ip=127.0.0.1 • device_id=- • 200 • 369.5ms
2025-08-01 20:30:50,592 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/login "HTTP/1.1 200 OK"
2025-08-01 20:30:51,309 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 201 • 451.0ms
2025-08-01 20:30:51,310 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 20:30:51,648 - app.main - WARNING - HTTPException Invalid credentials on /api/v1/auth/login
2025-08-01 20:30:51,649 - app.main - INFO - POST /api/v1/auth/login • ip=127.0.0.1 • device_id=- • 401 • 337.9ms
2025-08-01 20:30:51,649 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/login "HTTP/1.1 401 Unauthorized"
2025-08-01 20:30:52,009 - app.main - WARNING - HTTPException Invalid credentials on /api/v1/auth/login
2025-08-01 20:30:52,010 - app.main - INFO - POST /api/v1/auth/login • ip=127.0.0.1 • device_id=- • 401 • 89.0ms
2025-08-01 20:30:52,010 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/login "HTTP/1.1 401 Unauthorized"
2025-08-01 20:30:52,297 - app.main - INFO - POST /api/v1/auth/login • ip=127.0.0.1 • device_id=- • 422 • 3.0ms
2025-08-01 20:30:52,298 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/login "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:30:52,943 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 201 • 415.6ms
2025-08-01 20:30:52,944 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 20:30:54,428 - app.services.supply_chain_service - ERROR - No valid JSON block found in LLM response.
2025-08-01 20:30:58,873 - app.services.llm - INFO - Sending prompt to LLM:

2025-08-01 20:31:11,238 - app.services.dose_manager - INFO - Cancellation response for device devX: {'cancelled': True}
2025-08-01 20:31:20,355 - app.services.llm - ERROR - No valid JSON block found in OpenAI response: no braces at all
2025-08-01 20:31:24,971 - httpx - INFO - HTTP Request: GET https://google.serper.dev/search?q=optimal+growth.+Focus+on+best+practices+in+Europe+for+Veggie+cultivation.&gl=in&hl=en&apiKey=79729460be56c404bcbf96630c3bfd92ba6ecc3e5ef08d124f91aba3c8ecf580&num=5&full=true&output=detailed "HTTP/1.1 403 Forbidden"
2025-08-01 20:31:24,972 - app.services.serper - ERROR - Serper API error [403]: {"message":"Unauthorized.","statusCode":403}
2025-08-01 20:31:24,972 - app.services.llm - WARNING - Serper enrichment skipped (Client error '403 Forbidden' for url 'https://google.serper.dev/search?q=optimal+growth.+Focus+on+best+practices+in+Europe+for+Veggie+cultivation.&gl=in&hl=en&apiKey=79729460be56c404bcbf96630c3bfd92ba6ecc3e5ef08d124f91aba3c8ecf580&num=5&full=true&output=detailed'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/403)
2025-08-01 20:31:25,757 - httpx - INFO - HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2025-08-01 20:31:26,516 - httpx - INFO - HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2025-08-01 20:31:26,516 - app.services.llm - INFO - Sending prompt to LLM:
Return {"x":1}
2025-08-01 20:31:31,273 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 422 • 1.0ms
2025-08-01 20:31:31,274 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:31:31,642 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 422 • 1.0ms
2025-08-01 20:31:31,642 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:31:31,995 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 422 • 0.9ms
2025-08-01 20:31:31,996 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:31:32,363 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 422 • 1.4ms
2025-08-01 20:31:32,363 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:31:32,802 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 422 • 1.1ms
2025-08-01 20:31:32,802 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:31:33,197 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 422 • 1.6ms
2025-08-01 20:31:33,198 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:31:34,874 - app.main - WARNING - HTTPException Could not validate credentials on /api/v1/devices/dosing
2025-08-01 20:31:34,875 - app.main - INFO - POST /api/v1/devices/dosing • ip=127.0.0.1 • device_id=- • 401 • 1.5ms
2025-08-01 20:31:34,875 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/devices/dosing "HTTP/1.1 401 Unauthorized"
2025-08-01 20:31:35,204 - app.main - INFO - POST /admin/device/nonexistent/issue-token • ip=127.0.0.1 • device_id=- • 404 • 0.2ms
2025-08-01 20:31:35,204 - httpx - INFO - HTTP Request: POST http://testserver/admin/device/nonexistent/issue-token "HTTP/1.1 404 Not Found"
2025-08-01 20:35:44,143 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "C:\Users\Smriti\KrishiVerse\hydroleaf\env\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-01 20:35:44,491 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 201 • 457.5ms
2025-08-01 20:35:44,492 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 20:35:45,153 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 201 • 374.1ms
2025-08-01 20:35:45,154 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 20:35:45,794 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 201 • 378.6ms
2025-08-01 20:35:45,794 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 20:35:45,980 - app.main - WARNING - HTTPException Email already registered on /api/v1/auth/signup
2025-08-01 20:35:45,980 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 400 • 184.9ms
2025-08-01 20:35:45,981 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 400 Bad Request"
2025-08-01 20:35:46,198 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 422 • 0.9ms
2025-08-01 20:35:46,198 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:35:46,446 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 422 • 1.0ms
2025-08-01 20:35:46,446 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:35:46,687 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 422 • 1.1ms
2025-08-01 20:35:46,688 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:35:47,274 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 201 • 374.3ms
2025-08-01 20:35:47,274 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 20:35:47,589 - app.main - INFO - POST /api/v1/auth/login • ip=127.0.0.1 • device_id=- • 200 • 314.3ms
2025-08-01 20:35:47,590 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/login "HTTP/1.1 200 OK"
2025-08-01 20:35:48,309 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 201 • 499.6ms
2025-08-01 20:35:48,309 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 20:35:48,626 - app.main - WARNING - HTTPException Invalid credentials on /api/v1/auth/login
2025-08-01 20:35:48,626 - app.main - INFO - POST /api/v1/auth/login • ip=127.0.0.1 • device_id=- • 401 • 315.9ms
2025-08-01 20:35:48,627 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/login "HTTP/1.1 401 Unauthorized"
2025-08-01 20:35:48,980 - app.main - WARNING - HTTPException Invalid credentials on /api/v1/auth/login
2025-08-01 20:35:48,980 - app.main - INFO - POST /api/v1/auth/login • ip=127.0.0.1 • device_id=- • 401 • 74.6ms
2025-08-01 20:35:48,981 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/login "HTTP/1.1 401 Unauthorized"
2025-08-01 20:35:49,210 - app.main - INFO - POST /api/v1/auth/login • ip=127.0.0.1 • device_id=- • 422 • 2.9ms
2025-08-01 20:35:49,210 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/login "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:35:49,836 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 201 • 384.9ms
2025-08-01 20:35:49,837 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 20:36:27,386 - app.services.llm - ERROR - No valid JSON block found in OpenAI response: no braces at all
2025-08-01 20:36:29,934 - httpx - INFO - HTTP Request: GET https://google.serper.dev/search?q=optimal+growth.+Focus+on+best+practices+in+Europe+for+Veggie+cultivation.&gl=in&hl=en&apiKey=79729460be56c404bcbf96630c3bfd92ba6ecc3e5ef08d124f91aba3c8ecf580&num=5&full=true&output=detailed "HTTP/1.1 403 Forbidden"
2025-08-01 20:36:29,934 - app.services.serper - ERROR - Serper API error [403]: {"message":"Unauthorized.","statusCode":403}
2025-08-01 20:36:29,935 - app.services.llm - WARNING - Serper enrichment skipped (Client error '403 Forbidden' for url 'https://google.serper.dev/search?q=optimal+growth.+Focus+on+best+practices+in+Europe+for+Veggie+cultivation.&gl=in&hl=en&apiKey=79729460be56c404bcbf96630c3bfd92ba6ecc3e5ef08d124f91aba3c8ecf580&num=5&full=true&output=detailed'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/403)
2025-08-01 20:36:30,711 - httpx - INFO - HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2025-08-01 20:36:31,496 - httpx - INFO - HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2025-08-01 20:36:31,497 - app.services.llm - INFO - Sending prompt to LLM:
Return {"x":1}
2025-08-01 20:47:07,414 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "C:\Users\Smriti\KrishiVerse\hydroleaf\env\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-01 20:47:07,762 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 201 • 457.9ms
2025-08-01 20:47:07,763 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 20:47:08,562 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 201 • 494.8ms
2025-08-01 20:47:08,563 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 20:47:09,337 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 201 • 506.9ms
2025-08-01 20:47:09,338 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 20:47:09,408 - app.main - WARNING - HTTPException Email already registered on /api/v1/auth/signup
2025-08-01 20:47:09,409 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 400 • 69.7ms
2025-08-01 20:47:09,409 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 400 Bad Request"
2025-08-01 20:47:09,671 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 422 • 1.4ms
2025-08-01 20:47:09,672 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:47:09,950 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 422 • 1.0ms
2025-08-01 20:47:09,950 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:47:10,196 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 422 • 1.3ms
2025-08-01 20:47:10,197 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:47:10,789 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 201 • 374.6ms
2025-08-01 20:47:10,789 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 20:47:11,103 - app.main - INFO - POST /api/v1/auth/login • ip=127.0.0.1 • device_id=- • 200 • 312.6ms
2025-08-01 20:47:11,104 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/login "HTTP/1.1 200 OK"
2025-08-01 20:47:11,749 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 201 • 378.6ms
2025-08-01 20:47:11,750 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 20:47:12,051 - app.main - WARNING - HTTPException Invalid credentials on /api/v1/auth/login
2025-08-01 20:47:12,051 - app.main - INFO - POST /api/v1/auth/login • ip=127.0.0.1 • device_id=- • 401 • 300.8ms
2025-08-01 20:47:12,052 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/login "HTTP/1.1 401 Unauthorized"
2025-08-01 20:47:12,484 - app.main - WARNING - HTTPException Invalid credentials on /api/v1/auth/login
2025-08-01 20:47:12,485 - app.main - INFO - POST /api/v1/auth/login • ip=127.0.0.1 • device_id=- • 401 • 80.1ms
2025-08-01 20:47:12,485 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/login "HTTP/1.1 401 Unauthorized"
2025-08-01 20:47:12,741 - app.main - INFO - POST /api/v1/auth/login • ip=127.0.0.1 • device_id=- • 422 • 3.6ms
2025-08-01 20:47:12,742 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/login "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:47:13,374 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 201 • 386.6ms
2025-08-01 20:47:13,374 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 20:47:45,376 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "C:\Users\Smriti\KrishiVerse\hydroleaf\env\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-01 20:47:45,723 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 201 • 454.4ms
2025-08-01 20:47:45,724 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 20:47:46,399 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 201 • 388.6ms
2025-08-01 20:47:46,400 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 20:47:47,070 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 201 • 388.6ms
2025-08-01 20:47:47,071 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 20:47:47,134 - app.main - WARNING - HTTPException Email already registered on /api/v1/auth/signup
2025-08-01 20:47:47,134 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 400 • 62.8ms
2025-08-01 20:47:47,135 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 400 Bad Request"
2025-08-01 20:47:47,362 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 422 • 1.0ms
2025-08-01 20:47:47,363 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:47:47,592 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 422 • 1.8ms
2025-08-01 20:47:47,593 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:47:47,838 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 422 • 1.1ms
2025-08-01 20:47:47,838 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:47:48,573 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 201 • 482.6ms
2025-08-01 20:47:48,573 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 20:47:48,884 - app.main - INFO - POST /api/v1/auth/login • ip=127.0.0.1 • device_id=- • 200 • 310.0ms
2025-08-01 20:47:48,885 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/login "HTTP/1.1 200 OK"
2025-08-01 20:47:49,633 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 201 • 493.9ms
2025-08-01 20:47:49,634 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 20:47:49,942 - app.main - WARNING - HTTPException Invalid credentials on /api/v1/auth/login
2025-08-01 20:47:49,943 - app.main - INFO - POST /api/v1/auth/login • ip=127.0.0.1 • device_id=- • 401 • 307.9ms
2025-08-01 20:47:49,943 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/login "HTTP/1.1 401 Unauthorized"
2025-08-01 20:47:50,275 - app.main - WARNING - HTTPException Invalid credentials on /api/v1/auth/login
2025-08-01 20:47:50,275 - app.main - INFO - POST /api/v1/auth/login • ip=127.0.0.1 • device_id=- • 401 • 76.9ms
2025-08-01 20:47:50,276 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/login "HTTP/1.1 401 Unauthorized"
2025-08-01 20:47:50,485 - app.main - INFO - POST /api/v1/auth/login • ip=127.0.0.1 • device_id=- • 422 • 2.4ms
2025-08-01 20:47:50,486 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/login "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:47:51,100 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 201 • 375.9ms
2025-08-01 20:47:51,101 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 201 Created"
2025-08-01 20:47:52,555 - app.services.supply_chain_service - ERROR - No valid JSON block found in LLM response.
2025-08-01 20:47:54,920 - app.services.llm - INFO - Sending prompt to LLM:

2025-08-01 20:48:01,045 - app.services.dose_manager - INFO - Cancellation response for device devX: {'cancelled': True}
2025-08-01 20:48:04,999 - app.services.llm - ERROR - No valid JSON block found in OpenAI response: no braces at all
2025-08-01 20:48:08,307 - httpx - INFO - HTTP Request: GET https://google.serper.dev/search?q=optimal+growth.+Focus+on+best+practices+in+Europe+for+Veggie+cultivation.&gl=in&hl=en&apiKey=79729460be56c404bcbf96630c3bfd92ba6ecc3e5ef08d124f91aba3c8ecf580&num=5&full=true&output=detailed "HTTP/1.1 403 Forbidden"
2025-08-01 20:48:08,309 - app.services.serper - ERROR - Serper API error [403]: {"message":"Unauthorized.","statusCode":403}
2025-08-01 20:48:08,309 - app.services.llm - WARNING - Serper enrichment skipped (Client error '403 Forbidden' for url 'https://google.serper.dev/search?q=optimal+growth.+Focus+on+best+practices+in+Europe+for+Veggie+cultivation.&gl=in&hl=en&apiKey=79729460be56c404bcbf96630c3bfd92ba6ecc3e5ef08d124f91aba3c8ecf580&num=5&full=true&output=detailed'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/403)
2025-08-01 20:48:09,125 - httpx - INFO - HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2025-08-01 20:48:09,127 - app.services.llm - INFO - Sending prompt to LLM:
Return exactly this JSON: {"foo": 42}
2025-08-01 20:48:12,701 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 422 • 1.0ms
2025-08-01 20:48:12,701 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:48:13,011 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 422 • 1.2ms
2025-08-01 20:48:13,012 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:48:13,324 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 422 • 2.2ms
2025-08-01 20:48:13,325 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:48:13,654 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 422 • 1.2ms
2025-08-01 20:48:13,654 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:48:13,976 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 422 • 1.1ms
2025-08-01 20:48:13,976 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:48:14,302 - app.main - INFO - POST /api/v1/auth/signup • ip=127.0.0.1 • device_id=- • 422 • 0.9ms
2025-08-01 20:48:14,302 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/auth/signup "HTTP/1.1 422 Unprocessable Entity"
2025-08-01 20:48:16,153 - app.main - WARNING - HTTPException Could not validate credentials on /api/v1/devices/dosing
2025-08-01 20:48:16,154 - app.main - INFO - POST /api/v1/devices/dosing • ip=127.0.0.1 • device_id=- • 401 • 1.4ms
2025-08-01 20:48:16,154 - httpx - INFO - HTTP Request: POST http://testserver/api/v1/devices/dosing "HTTP/1.1 401 Unauthorized"
2025-08-01 20:48:16,450 - app.main - INFO - POST /admin/device/nonexistent/issue-token • ip=127.0.0.1 • device_id=- • 404 • 0.3ms
2025-08-01 20:48:16,450 - httpx - INFO - HTTP Request: POST http://testserver/admin/device/nonexistent/issue-token "HTTP/1.1 404 Not Found"
